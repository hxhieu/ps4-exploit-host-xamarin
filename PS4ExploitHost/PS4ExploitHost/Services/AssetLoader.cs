using System.IO;
using PS4ExploitHost.Services;
using PS4ExploitHost.Common.Interfaces;
using Xamarin.Forms;
using static PS4ExploitHost.Common.Constants;
using PS4ExploitHost.Common;

[assembly: Dependency(typeof(AssetLoader))]
namespace PS4ExploitHost.Services
{
    public class AssetLoader : IAssetLoader
    {
        public Stream Load(AssetType assetType, string name)
        {
            var type = typeof(App);
            var ext = string.Empty;
            switch (assetType)
            {
                case AssetType.Svgs:
                    ext = "svg";
                    break;
            }

            var fullName = $"{type.Namespace}.Assets.{assetType}.{name}.{ext}";
            return type.Assembly.GetManifestResourceStream(fullName);
        }
    }
}
